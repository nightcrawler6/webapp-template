/*    HTTP Host:  static.ak.fbcdn.net                                          */
/*    Generated:  February 8th 2010 11:53:16 AM PST                            */
/*      Machine:  10.16.139.108                                                */
/*       Source:  Global Cache                                                 */
/*     Location:  js/79xc7nkg9go4sg4g.pkg.js h:5pu9hra3                        */
/*       Locale:  nu_ll                                                        */
/*         Path:  js/79xc7nkg9go4sg4g.pkg.js                                   */

if (window.CavalryLogger) { CavalryLogger.start_js(["js\/79xc7nkg9go4sg4g.pkg.js"]); }

function UIActionButton(a){this.root=null;this.text=null;this.parent.construct(this,URI('/templates/UIActionButton.tmpl'));this.setTitle(a);this.setOnclick(bagofholding);this.setColor(UIActionButton.colorGray);Event.listen(this.root,'click',this._click.bind(this));}UIActionButton.extend('TemplateObject');copy_properties(UIActionButton,{colorBlue:'Blue',colorGray:'Gray',colorGreen:'Green',iconChevronGray:142,iconChevronWhite:166,iconChevronBlue:190,iconLockGray:214,iconLockWhite:238,iconLockBlue:262,iconScopeGray:286,iconScopeWhite:310,iconScopeBlue:334,iconPlus:361,iconFriend:386,iconFan:410,iconConnect:432,iconBack:454,sizeNormal:'Normal',sizeLarge:'Large'});UIActionButton.prototype={setHref:function(a){this.root.href=a;return this;},setIcon:function(a){if(this.icon)DOM.remove(this.icon);if(a&&parseInt(a,10)){CSS.addClass(this.root,'Icon_Btn');this.icon=$N('span',{className:'UIButton_Icon UIButton_IconNoSpriteMap'+(this._isSmallMonochromaticIcon(a)?' UIButton_IconSmallMonochromatic':''),style:{backgroundPosition:'0 -'+a+'px'}});DOM.prependContent(this.text,this.icon);}else throw new Error('Custom icon buttons cannot be created from JS.');return this;},setTooltip:function(a){if(this.tooltip){if(a){DOM.setContent(this.tooltip.firstChild,a);}else{DOM.remove(this.tooltip);CSS.removeClass(this.root,'uiTooltip');this.tooltip=null;}}else{this.tooltip=$N('span',{className:'uiTooltipWrap'},$N('span',{className:'uiTooltipText'},a));CSS.addClass(this.root,'uiTooltip');DOM.prependContent(this.root,this.tooltip);}return this;},setSize:function(a){if(a!=UIActionButton.sizeNormal)CSS.addClass(this.root,'UIButton_'+a);return this;},setDepressed:function(a){CSS.conditionClass(this.root,'UIButton_Depressed',a);return this;},getDepressed:function(){return CSS.hasClass(this.root,'UIButton_Depressed');},setDisabled:function(a){CSS.conditionClass(this.root,'UIButton_Disabled',a);return this;},getDisabled:function(){return CSS.hasClass(this.root,'UIButton_Disabled');},setColor:function(a){CSS.removeClass(this.root,'UIButton_Blue');CSS.removeClass(this.root,'UIButton_Green');CSS.addClass(this.root,'UIButton_'+a);return this;},setSuppressButton:function(a){CSS.conditionClass(this.root,'UIButton_Suppressed',a);return this;},setSuppressMargin:function(a){CSS.conditionClass(this.root,'UIActionButton_SuppressMargin',a);return this;},setOnclick:function(a){this._onclick=a;return this;},setTitle:function(a){DOM.setContent(this.text,a);return this;},setHidden:function(a){CSS.conditionClass(this.root,'hidden_elem',a);return this;},getHidden:function(){return CSS.hasClass(this.root,'hidden_elem');},getNodes:function(){return [this.root];},_click:function(){return this.getDisabled()?false:this._onclick();},_isSmallMonochromaticIcon:function(a){return a==UIActionButton.iconPlus||a==UIActionButton.iconBack;}};
function inbox_search_typeahead(a,c,b){this.anchor_block=true;this.parent.construct(this,a,c,b);}inbox_search_typeahead.extend('typeaheadpro');copy_properties(inbox_search_typeahead.prototype,{auto_select:false,less_than_n_chars:true,touch_fired:false,show:function(){if(!this.less_than_n_chars&&this.suggestions.length){this.parent.show();this.dropdown.style.width='200px';}else this.hide();},hide:function(){this.parent.hide();var a=ge('inbox_search');if(a)CSS.removeClass(a,'typeahead_border');},fireTouch:function(){if(!this.touch_fired){AsyncRequest.pingURI('/ajax/gigaboxx/endpoint/SearchTouch.php');this.touch_fired=true;}},found_suggestions:function(c,d,a){this.parent.found_suggestions(c,d,a);if(this.list.firstChild&&this.list.firstChild.firstChild){CSS.addClass(this.list.firstChild.firstChild,'blue_top_border');CSS.removeClass(this.list,'no_border_list');CSS.addClass(this.list.lastChild.lastChild,'blue_bottom_border');var b=ge('inbox_search');if(b)CSS.addClass(b,'typeahead_border');}else{var b=ge('inbox_search');if(b)CSS.removeClass(b,'typeahead_border');CSS.addClass(this.list,'no_border_list');}}});
function UIToolbarWell(a){this._root=a;this._leftSide=this._root.find('span.UIToolbarWell_Left');this._rightSide=this._root.find('span.UIToolbarWell_Right');this._secondaryContentContainer=this._root.find('div.UIToolbarWell_SecondaryContent');return this;}UIToolbarWell.prototype.addContent=function(b,a){if(a=='left'){this._leftSide.appendContent(b);}else if(a=='right')this._rightSide.appendContent(b);};UIToolbarWell.prototype.addButton=function(b,a){b.setSuppressMargin(true);var c=$N('span',{className:'UIToolbarWell_Button'},b.getNodes());this.addContent(c,a);return this;};UIToolbarWell.prototype.reset=function(){DOM.empty(this._leftSide);DOM.empty(this._rightSide);return this;};UIToolbarWell.prototype.addSecondaryContent=function(a){this._secondaryContentContainer.appendContent(a);this.setShowSecondaryContent(true);};UIToolbarWell.prototype.setShowSecondaryContent=function(a){CSS.conditionClass(this._secondaryContentContainer,'hidden_elem',!a);};
function UINestedFilterList(a){copy_properties(this,{useAnimation:false,_contentArea:a,_list:DOM.find(a,'ul.UINestedFilterList_List'),_selectedItemId:null,_selectedSubItemIndex:null,_itemRecords:null});this.initialize();}copy_properties(UINestedFilterList.prototype,{getContentArea:function(){return this._contentArea;},initialize:function(){this._itemRecords=[];this._selectedItemId=null;var f=DOM.scry(this._contentArea,'li.UINestedFilterList_Item');var j=DOM.scry(this._contentArea,'li.UINestedFilterList_Item_SubList');var i={};j.forEach(function(l){var k=l.id.match(/sublists_(.*)/);if(k)i[k[1]]=l;});for(var c=0;c<f.length;c++){var a=f[c];var b=a.id||c;if(CSS.hasClass(a,'UINestedFilterList_Selected')||CSS.hasClass(a,'UINestedFilterList_SubSelected'))this._selectedItemId=b;var h=i[b];var g=null;if(h){g=DOM.scry(h,'li.UINestedFilterList_SubItem');for(var d=0;d<g.length;d++)if(CSS.hasClass(g[d],'UINestedFilterList_SubItem_Selected'))this._selectedSubItemIndex=d;}var e={id:b,item:new UINestedNavItem(b),itemElem:a,subListElem:h,subItemElems:g};this._itemRecords.push(e);}},addNavItem:function(f,e){e=!!e;var k=[];var a=[$N('span',{className:'UINestedFilterList_Title'},f.title),$N('span',{className:'UINestedFilterList_ItemRight'})];if(f.icon){var g=f.isSprited?'UINestedFilterList_Icon':'UINestedFilterList_Icon UINestedFilterList_IconNonSprite';a.unshift($N('span',{className:g,style:{backgroundImage:"url("+f.icon+")"}}));}var d=$N('a',{href:f.href||'#',className:'UINestedFilterList_Item_Link',onclick:this.selectTab.bind(this,f.id)},a);if(f.closeHandler){var c=$N('span',{className:'UINestedFilterList_Item_CloseLink_Icon'});var b=$N('span',{className:'UINestedFilterList_Item_CloseLinkWrapper'},$N('a',{href:'#',className:'UINestedFilterList_Item_CloseLink',onclick:this._onCloseTab.bind(this,f,f.closeHandler)},c));k.push('UINestedFilterList_Item_hasCloseLink');d=$N('div',{className:'UINestedFilterList_Item_Contents'},[d,b]);}var h='UINestedFilterList_Item '+k.join(' ');var i=$N('li',{className:h},d);var l='UINestedFilterList_Item_SubList';var m=$N('li',{className:l});var j={id:f.id,item:f,itemElem:i,subListElem:m,subItemElems:[]};this._list.appendContent([i,m]);this._itemRecords.push(j);if(e)this.selectTab(f.id);return this;},removeNavItem:function(b){var c=null;for(var a=0;a<this._itemRecords.length;a++)if(b.id==this._itemRecords[a].id){c=this._itemRecords[a];this._itemRecords.splice(a,1);break;}if(!c)return;DOM.remove(c.itemElem);if(c.subListElem)DOM.remove(c.subListElem);if(c.id==this._selectedItemId)this.selectTab(null);return this;},selectTab:function(c,i){var d;var e;var g;var h;for(var b=0;b<this._itemRecords.length;b++){var f=this._itemRecords[b];if(f.id==this._selectedItemId){d=f;if(this._selectedSubItemIndex!==undefined&&this._selectedSubItemIndex!==null&&f.subItemElems!==undefined)e=f.subItemElems[this._selectedSubItemIndex];}if(f.id==c){g=f;if(i!==undefined&&f.subItemElems!==undefined)h=f.subItemElems[i];}}if(d!=g){if(d&&d.subListElem)this._closeSubList(d.subListElem);if(g&&g.subListElem)this._openSubList(g.subListElem);}if(e){CSS.removeClass(e,'UINestedFilterList_SubItem_Selected');CSS.removeClass(e,'selected');}if(h){CSS.addClass(h,'UINestedFilterList_SubItem_Selected');CSS.addClass(h,'selected');}if(d){var a='UINestedFilterList_Selected';if(e){a='UINestedFilterList_SubSelected';}else CSS.removeClass(d.itemElem,'selected');CSS.removeClass(d.itemElem,a);CSS.removeClass(d.itemElem,'selected');}if(g){var a='UINestedFilterList_Selected';if(h){a='UINestedFilterList_SubSelected';}else CSS.addClass(g,'selected');CSS.addClass(g.itemElem,a);CSS.addClass(g.itemElem,'selected');}this._selectedItemId=c;this._selectedSubItemIndex=i;},_onCloseTab:function(b,a){if(!a(b))this.removeNavItem(b);return false;},_openSubList:function(a){if(this.useAnimation){this._animateOpen(a);}else CSS.addClass(a,'UINestedFilterList_Item_SubList_Open');},_closeSubList:function(a){if(this.useAnimation){this._animateClose(a);}else CSS.removeClass(a,'UINestedFilterList_Item_SubList_Open');},_animateOpen:function(a){animation(a).to('height','auto').from('0px').to('opacity',1).from(0).blind().show().duration(this.animationDuration||200).checkpoint(1,function(){CSS.addClass(a,'UINestedFilterList_Item_SubList_Open');}).go();},_animateClose:function(a){animation(a).to('height','0px').to('opacity',0).hide().duration(this.animationDuration||200).checkpoint(1,function(){CSS.removeClass(a,'UINestedFilterList_Item_SubList_Open');}).go();},_changeCollapse:function(g,d){for(var f=0;f<this._itemRecords.length;f++){var j=this._itemRecords[f];if(j.id!=g)continue;var a='UINestedFilterList_SubItem_';var c=a+(d?'Uncollapsed':'Collapsed');var b=a+(d?'Collapsed':'Uncollapsed');for(var h=0;h<j.subItemElems.length;h++)if(CSS.hasClass(j.subItemElems[h],c)){CSS.removeClass(j.subItemElems[h],c);CSS.addClass(j.subItemElems[h],b);}var i=$(g+'_CollapseLinkMore');var e=$(g+'_CollapseLinkHide');if(d){i.style.display='block';hide(e);}else{hide(i);e.style.display='block';}}},showCollapsed:function(a){this._changeCollapse(a,false);},hideCollapsed:function(a){this._changeCollapse(a,true);}});function UINestedNavItem(a){copy_properties(this,{id:a,icon:null,isSprited:false,href:null,title:null,subTitle:null,subItems:[],closeHandler:null});}copy_properties(UINestedNavItem.prototype,{setId:function(a){return this._mutate('id',a);},setTitle:function(a){return this._mutate('title',a);},setSubTitle:function(a){return this._mutate('subTitle',a);},setHref:function(a){return this._mutate('href',a);},setIcon:function(a){this.isSprited=false;return this._mutate('icon',a);},setSubItems:function(a){return this._mutate('subItems',a);},setCloseHandler:function(a){return this._mutate('closeHandler',a);},_mutate:function(a,b){this[a]=b;return this;}});
function ToolTips(){copy_properties(this,{tipBox:$N('div'),tipInner:$N('div'),_showTimer:null});CSS.addClass(this.tipBox,'tooltip');CSS.addClass(this.tipInner,'tooltip_inner');this.tipBox.appendChild(this.tipInner);DOM.getRootElement().appendChild(this.tipBox);}ToolTips.TOP_CENTER={orientClassName:'tooltip_top_center'};ToolTips.RIGHT_CENTER={orientClassName:'tooltip_right_center'};ToolTips.BOTTOM_CENTER={orientClassName:'tooltip_bottom_center'};ToolTips.LEFT_CENTER={orientClassName:'tooltip_left_center'};ToolTips.DEFAULT=ToolTips.TOP_CENTER;copy_properties(ToolTips.prototype,{show:function(event){var b=$E(event).getTarget();var a=DataStore.get(b,'tooltip',{}).delay||0;if(!a){this._show(b);}else if(!this._showTimer)this._showTimer=this._show.bind(this,b).defer(a);},_show:function(c){var a=DataStore.get(c,'tooltip');if(a&&a.tip){this.tipInner.setContent(HTML(a.tip));CSS.setClass(this.tipBox,'tooltip');if(a.className)this.tipBox.addClass(a.className);this.tipBox.style.display='block';this.tipBox.style.visibility='hidden';this.tipBox.style.position='absolute';this.tipBox.style.zIndex='102';orientation=a.orientation||ToolTips.DEFAULT;var d;var b=Vector2.getElementDimensions(this.tipBox);switch(orientation){case ToolTips.RIGHT_CENTER:d=Vector2.getElementCompassPoint(c,Vector2.compass.southeast).add(3,-(Vector2.getElementDimensions(c).y+b.y)/2);break;case ToolTips.TOP_CENTER:d=Vector2.getElementCompassPoint(c,Vector2.compass.north).add(-b.x/2,-b.y-3);break;case ToolTips.LEFT_CENTER:d=Vector2.getElementCompassPoint(c,Vector2.compass.southwest).add(-b.x-7,-(Vector2.getElementDimensions(c).y+b.y)/2);break;case ToolTips.BOTTOM_CENTER:d=Vector2.getElementCompassPoint(c,Vector2.compass.south).add(-b.x/2,3);break;default:throw new Error(sprintf('Unknown tooltip orientation: %s.',orientation));}CSS.addClass(this.tipBox,orientation.orientClassName);this.tipBox.style.visibility='visible';if(a.offset)d=d.sub(a.offset);d.setElementPosition(this.tipBox);(function(){Rect.getElementBounds(this.tipBox).boundWithin(Rect.getViewportBounds()).getPositionVector().setElementPosition(this.tipBox);}).bind(this).defer();}else this.hide();return this;},hide:function(event){if(this._showTimer){clearTimeout(this._showTimer);this._showTimer=null;}this.tipBox.style.display='';return this;}});copy_properties(ToolTips,{instance:null,getInstance:function(){return ToolTips.instance||(ToolTips.instance=new ToolTips());},setTips:function(e,d,a,c){for(var b in e)ToolTips.setTip(b,e[b],d,a,c);return ToolTips;},setTip:function(c,i,g,a,f){var b=ge(c);if(b){var e=ToolTips.getInstance();var h=e.show.bind(e);var d=e.hide.bind(e);DataStore.set(b,'tooltip',{tip:i,orientation:g,delay:a,offset:f});b.listen('mouseover',h);b.listen('mouseout',d);}return ToolTips;},configureTip:function(b,c,d){switch(c){case 'orientation':case 'delay':case 'tip':case 'className':b=$(b);var a=DataStore.get(b,'tooltip');a[c]=d;DataStore.set(b,'tooltip',a);return ToolTips;break;}throw new TypeError('Invalid property, consult documentation.');}});
var SocialGraphManager=function(){var c=false;var a=-1;var d=-1;var b=null;var e=function(h){if(!c)return null;var i={node_id:d};i['class']=a;copy_properties(h,i);return h;};var f=function(j,h,i){new AsyncRequest().setURI(j).setData(e(h)).setHandler(i?i:bagofholding).send();return false;};var g=function(j,i){if(!(i=e(i)))return;var h=new AsyncRequest().setMethod('POST').setURI(j).setData(i);b=new Dialog().setModal(true).setAsync(h).show();return false;};return {init:function(h,i){c=true;a=h;d=i;return this;},getCurrentNodeID:function(){return d;},showInviteDialog:function(){g('/ajax/social_graph/invite_dialog.php',{});},showAddAdminDialog:function(){g('/ajax/social_graph/add_admin_dialog.php',{});},showBrowseDialog:function(h){var i=URI.getRequestURI().getQueryData();if('viewas' in i){if(h==null)h={};h.viewas=i.viewas;}g('/ajax/social_graph/dialog/browse.php',h||{});},submitDialog:function(i,j){if(Dialog.getCurrent()){var h=serialize_form($(i));Dialog.getCurrent().hide();if(h.ids||h.email_addresses)g(j,h);}},cancelDialog:function(){if(b)b.hide();},fetch:function(i,l,m,k,j){var o='/ajax/social_graph/fetch.php';var h={edge_type:i,page:m,limit:k};var n=URI.getRequestURI().getQueryData();if('viewas' in n)h.viewas=n.viewas;if(l)copy_properties(h,l);return f(o,h,j);},search:function(k,j,i){var l='/ajax/social_graph/search.php';var h={query:k};if(j)copy_properties(h,j);return f(l,h,i);},add:function(k,j,n,h,m,l){var o='/ajax/social_graph/add.php';var i={fbids:k,edge_type:j,app_id:h,message:m};if(n)copy_properties(i,n);return f(o,i,l);},remove:function(k,j,h,n,m,l){var o='/ajax/social_graph/remove.php';var i={fbid:k,edge_type:j,ban:h,message:m};if(n)copy_properties(i,n);return f(o,i,l);}};}();
Arbiter.inform("template\/registerTemplate", {"name":"\/templates\/UIObjectListing.tmpl","template":"\n\n<div bindPoint=\"root\" class=\"UIObjectListing clearfix\">\n    <div class=\"UIObjectListing_Pic\">\n      <a href=\"${href}\">\n        <img class = \"UIProfileImage UIProfileImage_LARGE\" bindPoint=\"pic\" \/>\n      <\/a>\n    <\/div>\n    <div class=\"UIObjectListing_MetaData\">\n      <a bindPoint=\"title\" class=\"UIObjectListing_Title\" href=\"${href}\">\n        ${title}\n        <span bindPoint=\"alternatetitle\"\/>\n      <\/a>\n      <div class=\"UIObjectListing_MetaDataSecondary\">\n        <span bindPoint=\"subtitle\" class=\"UIObjectListing_Subtitle\"\/>\n        <span bindPoint=\"subtext\" class=\"UIObjectListing_Subtext\"\/>\n      <\/div>\n    <\/div>\n    <div class=\"UIObjectListing_RightContent\" bindPoint=\"rightContent\">\n      <div class=\"UIObjectListing_RemoveContainer hidden_elem\" bindPoint=\"removeContainer\">\n        <a class=\"UIObjectListing_RemoveLink\" bindPoint=\"removeLink\" href=\"#\">&nbsp;<\/a>\n      <\/div>\n      <div class=\"UIObjectListing_ActionContainer hidden_elem\" bindPoint=\"actionContainer\">\n      <\/div>\n    <\/div>\n<\/div>\n"}, Arbiter.BEHAVIOR_PERSISTENT);
function UIObjectListing(a){copy_properties(this,{_data:a,_dirty:true,root:null,pic:null,actionContainer:null,removeContainer:null,removeLink:null,rightContent:null,subtext:null});this._removeLinkHandler=bagofholding;this._control=false;var b=URI('/templates/UIObjectListing.tmpl');this.parent.construct(this,b,this._data);}UIObjectListing.extend('TemplateObject');UIObjectListing.prototype.setBoldTitle=function(a){CSS.conditionClass(this.root,'UIObjectListing_TitleNormal',!a);};UIObjectListing.prototype.setPicPadding=function(a){CSS.conditionClass(this.root,'UIObjectListing_PicPadding',a);};UIObjectListing.prototype.getId=function(){return this._data.id;};UIObjectListing.prototype.setSubtext=function(a){DOM.setContent(this.subtext,a);return this;};UIObjectListing.prototype.setActionControl=function(a){this._control=a;DOM.setContent(this.actionContainer,a.getNodes());CSS.removeClass(this.actionContainer,'hidden_elem');return this;};UIObjectListing.prototype.getActionControl=function(){return this._control;};UIObjectListing.prototype.setRemoveControl=function(a,b,c){CSS.conditionClass(this.removeContainer,'hidden_elem',!a);CSS.conditionClass(this.root,'UIObjectListing_HasRemoveControl',a);if(a){if(b)this._removeLinkHandler=b;if(c)ToolTips.setTip(this.removeLink,c,ToolTips.TOP_CENTER,0,new Vector2(0,5));}};UIObjectListing.prototype.setRightContent=function(a){DOM.setContent(this.rightContent,a);return this;};UIObjectListing.prototype._removeLinkClick=function(a){this._removeLinkHandler();return false;};UIObjectListing.prototype.paint=function(){this.pic.src=this._data.pic;if(this._data.removeable)CSS.removeClass(this.removeContainer,'hidden_elem');if(this._data.alternate_title){DOM.setContent(this.alternatetitle,'('+this._data.alternate_title+')');}else DOM.remove(this.alternatetitle,null);if(this._data.subtitle)DOM.setContent(this.subtitle,this._data.subtitle);CSS.conditionClass(this.subtitle,'UIObjectListing_Padding',this._data.subtitle);if(this._data.subtext)this.setSubtext(this._data.subtext);Event.listen(this.removeLink,'click',this._removeLinkClick.bind(this));if(!this._data.href)DOM.replace(this.title,$N('span',{className:this.title.className},DOM.getText(this.title)));this._dirty=false;};

if (window.Bootloader) { Bootloader.done(["js\/79xc7nkg9go4sg4g.pkg.js"]); }
/*
     FILE ARCHIVED ON 00:23:35 Feb 12, 2010 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 22:07:02 Jul 26, 2017.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/